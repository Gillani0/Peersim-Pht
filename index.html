<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Peersim-Pht by nongbottom</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="web/stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="web/stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="web/stylesheets/github-light.css" media="screen">

    <link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">
          Peersim-Pht
          <!--<h2 class="project-tagline">Prefix Hash Tree Implementation for PeerSim</h2>-->
          <a href="https://github.com/nongbottom/Peersim-pht">
              <!--View on GitHub-->
              <img src="web/GitHub-Logo2.png"
                   alt="Github logo"
                   style="height:42px;width:42px">
          </a>
      </h1>
        <a href="index.html" class="btn">Home</a>
        <a href="web/fr/introduction.html" class="btn">Rapport</a>
        <a href="web/documentation.html" class="btn">Documentation</a>

        <br />
        <a href="https://github.com/nongbottom/Peersim-Pht" class="rapport">View project on github</a>
    </section>

    <section class="main-content">

        <div class="resume">
            <p>
                PeerSim-Pht is an implementation of the Prefix Hash Tree (Pht) distributed data
                structure into the peer to peer network simulator
                <a href="http://peersim.sourceforge.net">PeerSim</a>. You fill find in this
                website documentation and my report since it was a school project (in french for
                now). The documentation gives a quick overview on the Pht and how to use this
                implementation in PeerSim, and a longer description of the internal behaviour of
                the whole projects (with discussion about some choice made).
            </p>

            <p>
                Note: to work with the MSPastry implementation for PeerSim (available on
                PeerSim's web site), I had to make a little change (add a method) to make things
                work. I send an email to the maintainer, but I have no response. I can't say of I
                missed something or if it is a bug. Until I have an answer, please download the
                gzip archive with peersim and the modified pastry (or add a setmspastryid method
                in MSPastryProtocol).
            </p>

            <p><a href=".">Download Peersim, MSPastry and Pht</a></p>
            <p><a href=".">Download PeerSim-Pht source code</a></p>
        </div>

        <h3>Peersim-pht</h3>
        <p>Prefix Hash Tree Implementation for PeerSim as described in
            <a href="https://www.eecs.berkeley.edu/~sylvia/papers/pht.pdf">the original paper</a>
            .</p>

        <h4>Pht Operations</h4>
        <ol>
            <li>Linear lookup
                <p>a top-down traversal of the prefix tree (trie) which returns the the unique leaf
                    node whose label is a prefix of the given key.</p>
            </li>

            <li>Binary lookup
                <p>Try different prefix lengths until the required leaf is reached. (not yet
                    implemented).</p>
            </li>

            <li>Insertion of a key with related split operation.</li>
            <li>Deletion of a key with the related merge operation.</li>
            <li>Sequential range query: return all keys in a range using the links between the
                leaves.</li>
            <li>Parallel range query: return all keys in a range starting from the smallest common
                prefix node of the trie.</li>
        </ol>

        <h4>PeerSim integration</h4>

        <p>This Pht implementation can be used with any Distributed hash table as long as an
            interface is provided to enable communication between the concrete implementation of the
            Dht and Pht.</p>

        <h4>Dht interface</h4>

        <p>The peersim.pht.DhtInterface interface contains the three methods needed for an integration
            with a Dht: </p>

        <ol>
            <li>`void send(PhtMessage message, String dest)` Send a message to another node of the trie
                using the Dht.</li>
            <li>`Object getNodeId()` Id of the current Node (PeerSim node: a physical machine). This id
                is set by the Dht, not PeerSim. This method is used for debug and logs rather than
                for real operations.</li>
            <li>`Node getNode()` Current node (PeerSim node). This method is needed for the beginning of
                the simulation. This information will be used to enable direct communications between
                PeerSim nodes, thus avoiding extra Dht routing.</li>
        </ol>

        <h4>Interface with MSPastry</h4>

        <p>PeerSim has additional packages, one of them being the MSPastry protocol.
            We provide some classes in the peersim.dht package to run simulations with this Dht.</p>

        <h4>PeerSim configuration file</h4>

        <p>You will find five different parameters for the PhtProtocol in the configuration file:</p>

        <ol>
            <li>Key size (bits).</li>
            <li>Maximum amount of keys a leaf can have.</li>
            <li>Dht interface.</li>
            <li>Logs enabled. Possible values: "on" or anything else to disable this.</li>
            <li>Type of range query for the simulation ("seq" for sequential, everything else for
                parallel).</li>
        </ol>

        <h3>Project status</h3>

        <h4>Tests</h4>

        <p>As for now, tests are run during the simulation. These tests uses Java assertions.</p>

        <h4>Statistics</h4>

        <p>At the end of any simulation, the `phtStats()` method is launched. It provides information
            about:</p>

        <ul>
            <li>Number of keys in the Pht</li>
            <li>Number of nodes in the Pht</li>
            <li>Number of leaves in the requests</li>
            <li>Number of requests</li>
            <li>Number of leaves with more than B keys</li>
            <li>Pht height</li>
            <li>Minimum height</li>
            <li>Ten most used nodes</li>
            <li>Ten least used nodes</li>
            <li>Ten most loaded leaves</li>
            <li>Ten least loaded leaves</li>
        </ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/nongbottom/Peersim-pht">Peersim-pht</a> is maintained by <a href="https://github.com/nongbottom">nongbottom</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

